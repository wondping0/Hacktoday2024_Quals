from Crypto.Util.number import *

def inverse_grey_v2(n, key):
    for i in range(key):
        # print(bin(n)[2:])
        n = n ^ (n>>(1)) ^ (n>>(2))
    return n

def inverse_grey_v3(n, key):
    for i in range(key):
        # print(bin(n)[2:])
        n = n ^ (n>>(1)) ^ (n>>(2)) ^ (n>>(3))
    return n

def grey_v2(x):
    n = x ^ (x//2) ^ (x//4)
    return n

def grey_v3(x):
    # print(2*x)
    n = (2*x) ^ (x) ^ (x//2) ^ (x//4)
    return n

def inverseGrey(f1):
    bt = f1.bit_length()

    x = 2**bt-1
    n = x
    key = 0
    for i in range(2000):
        n = n ^ (n>>(1)) ^ (n>>(2))
        if(n==x):
            key = i
            break
    return inverse_grey_v2(f1, key)

def inverseGrey3(f1):
    bt = (f1*2).bit_length()

    x = 2**bt-1
    n = x
    key = 0
    for i in range(20000):
        n = n ^ (n>>(1)) ^ (n>>(2)) ^ (n>>(3))
        if(n==x):
            key = i
            break
    return inverse_grey_v3(f1, key)//2

ct="2332693512184443352684874360054246333168660609410753564793937707339689800536215656060208796991854790716617108512794418819935526744339392252922525135845324458942596196047973602751909337483813333328576095447222298368224463433532239268880403477521715873643497279182064447684506181786808815044667940327936931260081075729188317567538337036894657535312883187923335329537112581219320099662469963246666080999248678313179909240861613275211329331593454642229472891924877809290164369783283821620035557519611868234654597080385875423297"
# ct="12634978845405812746700949507481792513531261788339060197755407136414583943661518161709565469798374905319235229057024:135384881346214342843166478814848691465366761838896282072647242032592378354811509930970080962820999144211364051780212023647744952905262510629612485090851806437076827902771907190042137074159175049512096445101366579053329004310370000266162020492724581996767385665851293744195762575851633577791064464914497210845332009701340399744938414264697383966065765563605847786250933577299506221157136013427186074537950883906585604".split(":")

# nx = 12662600065582795290418260781254536203799202535834515034068920600766264664104651060668115211719004519515084303910212
# pt = []
# for _ in range(1000):
#     temp = grey_v3(nx)
#     if(inverseGrey3(temp)!=nx):
#         print("FOUND")
#         print(nx)
#         break
#     nx = temp

# print(inverseGrey3(grey_v3(57772360863920418225771585136055346362778185405379044542149981035325880766777956078665072366309391466766939357141856044740177527149145567264814950813466442657971389897148053106613953009242237094621108680218451966511814073936885454706437307385873405574470012594391462207991707983084162146421969520835956994119)))

for i in range(111, 112):
    print("interact",i)
    c1 = ct[:i]
    c2 = ct[i:]

    n1 = int(c1)
    for _ in range(1000):
        n1 = inverseGrey(n1)
    
    n2 = int(c2)
    for _ in range(1000):
        n2 = inverseGrey3(n2)
    try:
        print(long_to_bytes(n1))
        print(long_to_bytes(n2))
    except:
        continue